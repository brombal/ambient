!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(2),i=n(4);e.default=function(t){return void 0===t&&(t={}),new u(t)};var u=function(){function t(t){void 0===t&&(t={}),this.initialState=t,this.listeners=[],this.currentState=t}return t.prototype.get=function(){return o.default(this.currentState)},t.prototype.set=function(t,e){var n=this,o=this.currentState;this.currentState=t,e||this.listeners.forEach(function(e){var i=e.map?e.map(o):o,u=e.map?e.map(t):t;r.default(i,u)!==i&&e.action(n.currentState,o)})},t.prototype.on=function(t,e){this.listeners.push({map:t,action:e})},t.prototype.off=function(t){this.listeners=this.listeners.filter(function(e){return e.action!==t})},t.prototype.reset=function(){this.currentState=this.initialState},t.prototype.update=function(t,e){void 0===e&&(e=!1);var n=i.default(this.currentState,t);n!==this.currentState&&this.set(n,e)},t.prototype.awaiter=function(t,e){var n=this;return new Promise(function(r){n.on(function(t){var n=e(t);void 0!==n&&r(n)},t)})},t}();e.Ambient=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,n){if(e===n)return e;if(typeof e!=typeof n)return n;if(!n||!e)return n;if("object"==typeof e){var r=!1;for(var o in n){var i=t(e[o],n[o]);i!==e[o]?(n[o]=i,r=!0):n[o]=e[o]}for(var o in e)o in n||(r=!0);return r?n:e}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e){var n=e;if(n&&"object"==typeof e)for(var r in n=e.constructor===[].constructor?[]:{},e)n[r]=t(e[r]);return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);n(5),window.createAmbient=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(1);e.default=function(t,e){var n=r.default(t),i=e(n);return i||o.default(t,n)}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var u=n(6),c=n(0);Object.defineProperty(c.Ambient.prototype,"react",{get:function(){var t=this;return function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUpdate=function(){t.setState({})},t}return o(n,e),n.prototype.componentDidMount=function(){t.on(this.props.to,this.onUpdate)},n.prototype.componentWillUnmount=function(){t.off(this.onUpdate)},n.prototype.render=function(){return this.props.children(t.get())},n}(u.Component)}}),c.Ambient.prototype.connect=function(t){var e=this;return function(n){return function(r){return u.createElement(e.react,{to:t},function(t){return u.createElement(n,i({},r,{ambient:t}))})}}}},function(t,e){t.exports=React}]);
//# sourceMappingURL=index.js.map